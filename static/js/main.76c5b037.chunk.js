(this.webpackJsonpsocialer=this.webpackJsonpsocialer||[]).push([[0],{48:function(e,a,t){e.exports=t(72)},53:function(e,a,t){},54:function(e,a,t){},65:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(13),c=t.n(r),l=(t(53),t(6)),s=(t(54),t(97)),i=t(18),m=t.n(i),u=(t(65),t(96)),p=t(95),d=m.a.initializeApp({apiKey:"AIzaSyA79AKi494FNiNFUNjCBqqOneDthQMhpUE",authDomain:"socialer-ab176.firebaseapp.com",databaseURL:"https://socialer-ab176.firebaseio.com",projectId:"socialer-ab176",storageBucket:"socialer-ab176.appspot.com",messagingSenderId:"62578825669",appId:"1:62578825669:web:e65a6d0979b8c3f07093ac",measurementId:"G-R00TB46SH7"}).firestore(),f=m.a.auth(),g=m.a.storage();var h=function(e){var a=e.postId,t=e.crntuser,r=e.username,c=e.userAvatar,i=e.caption,f=e.imageURL,g=e.comments,h=Object(n.useState)(""),v=Object(l.a)(h,2),E=v[0],b=v[1];return o.a.createElement("div",{className:"post"},o.a.createElement("div",{className:"post__header"},o.a.createElement(s.a,{src:c,alt:r,className:"post__headerAvatar"}),o.a.createElement("h3",null,r)),o.a.createElement("img",{className:"post__image",src:f,alt:"Image not found"}),o.a.createElement("div",{className:"post__footer"},o.a.createElement("strong",null,r,":"),i),o.a.createElement("div",{className:"post__commentbox"},g.map((function(e){return o.a.createElement("div",{className:"post__comment"},o.a.createElement("strong",null,e.username)," : ",e.commenttext)})),(null===t||void 0===t?void 0:t.displayName)?o.a.createElement("form",{className:"post__commentadder"},o.a.createElement(u.a,{type:"text",placeholder:"share your thoughts on this post",value:E,onChange:function(e){return b(e.target.value)}}),o.a.createElement(p.a,{type:"submit",onClick:function(e){e.preventDefault(),""!==E?d.collection("posts").doc(a).update({comments:m.a.firestore.FieldValue.arrayUnion({username:t.displayName,commenttext:E})}):alert("bhai kaik lakh pachi comment kar"),b("")}},"Comment")):o.a.createElement("p",null,"Login to comment")))};var v=function(e){var a=e.username,t=e.userAvatar,r=Object(n.useState)(""),c=Object(l.a)(r,2),s=c[0],i=c[1],f=Object(n.useState)(null),h=Object(l.a)(f,2),v=h[0],E=h[1],b=Object(n.useState)(0),y=Object(l.a)(b,2),_=y[0],O=y[1];return o.a.createElement("div",{className:"ImageUpload"},o.a.createElement(u.a,{type:"text",name:"caption",onChange:function(e){return i(e.target.value)},value:s,placeholder:"Enter your caption"}),o.a.createElement("progress",{value:_,max:"100"}),o.a.createElement(u.a,{type:"file",name:"image",onChange:function(e){e.target.files[0]&&E(e.target.files[0])}}),o.a.createElement(p.a,{onClick:function(){g.ref("Images/".concat(v.name)).put(v).on("state_changed",(function(e){var a=Math.round(e.bytesTransferred/e.totalBytes*100);O(a),console.log(e.bytesTransferred/e.totalBytes)}),(function(e){console.log(e)}),(function(){g.ref("Images").child(v.name).getDownloadURL().then((function(e){d.collection("posts").add({timestamp:m.a.firestore.FieldValue.serverTimestamp(),caption:s,imageURL:e,username:a,userAvatar:t,comments:[]}),alert("Posted..."),O(0),i(""),E(null)}))}))}},"Upload"))};var E=function(){return o.a.createElement("div",{className:"UserPopUp"},"User Profiles")},b=t(93),y=t(94),_=t(44),O=t.n(_);function j(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var N=Object(b.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #aa4488",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var w=function(){var e=N(),a=Object(n.useState)([]),t=Object(l.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(!1),m=Object(l.a)(i,2),b=m[0],_=m[1],w=Object(n.useState)(!1),S=Object(l.a)(w,2),C=S[0],U=S[1],I=Object(n.useState)(!1),k=Object(l.a)(I,2),L=k[0],A=k[1],R=Object(n.useState)(!1),x=Object(l.a)(R,2),P=x[0],B=x[1],D=Object(n.useState)(""),T=Object(l.a)(D,2),F=T[0],W=T[1],M=Object(n.useState)(""),q=Object(l.a)(M,2),z=q[0],H=q[1],J=Object(n.useState)(""),K=Object(l.a)(J,2),V=K[0],G=K[1],Q=Object(n.useState)(null),Y=Object(l.a)(Q,2),$=Y[0],X=Y[1],Z=Object(n.useState)(null),ee=Object(l.a)(Z,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(null),oe=Object(l.a)(ne,2),re=oe[0],ce=oe[1],le=o.a.useState(j),se=Object(l.a)(le,1)[0];return Object(n.useEffect)((function(){var e=f.onAuthStateChanged((function(e){if(e){if(te(e),null!=e.photoURL&&ce(e.photoURL),!e.displayName)return e.updateProfile({displayName:F})}else te(null)}));return function(){e()}}),[ae,F]),Object(n.useEffect)((function(){d.collection("posts").onSnapshot((function(e){c(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),o.a.createElement("div",{className:"app"},(null===ae||void 0===ae?void 0:ae.displayName)?o.a.createElement("div",{className:"app__postButton"},o.a.createElement(p.a,{type:"button",name:"button",onClick:function(){return A(!0)},endIcon:o.a.createElement(O.a,null)},"  Add")):o.a.createElement("h3",null,"Log in or SignUp to start adding your movements too.."),o.a.createElement(y.a,{open:L,onClose:function(){return A(!1)}},o.a.createElement("div",{style:se,className:e.paper},(null===ae||void 0===ae?void 0:ae.displayName)?o.a.createElement(v,{username:ae.displayName,userAvatar:re}):o.a.createElement("h3",null,"You need to login... How am I supposed to allow you to post without login.."))),o.a.createElement(y.a,{open:b,onClose:function(){return _(!1)}},o.a.createElement("div",{style:se,className:e.paper},o.a.createElement("div",{id:"simple-modal-description"},o.a.createElement("center",null,o.a.createElement("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"logo"})),o.a.createElement("form",{className:"app_signUp"},o.a.createElement(u.a,{type:"text",placeholder:"username",value:F,onChange:function(e){return W(e.target.value)}}),o.a.createElement(u.a,{type:"email",placeholder:"email",value:V,onChange:function(e){return G(e.target.value)}}),o.a.createElement(u.a,{type:"password",placeholder:"password",value:z,onChange:function(e){return H(e.target.value)}}),o.a.createElement(u.a,{type:"file",name:"image",onChange:function(e){e.target.files[0]&&X(e.target.files[0])}}),o.a.createElement(p.a,{type:"submit",onClick:function(e){e.preventDefault(),f.createUserWithEmailAndPassword(V,z).then((function(e){e.user.updateProfile({displayName:F}),g.ref("ProfileImages/".concat(F)).put($).on("state_changed",(function(e){console.log(e.bytesTransferred/e.totalBytes)}),(function(e){alert(e.message)}),(function(){g.ref("ProfileImages").child(F).getDownloadURL().then((function(a){ce(a),e.user.updateProfile({photoURL:a}),d.collection("userinfo").add({email:V,username:F,photoURL:a,followers:[],following:[],posts:[]}),alert("user created successfully")}))}))})).catch((function(e){return alert(e.message)})),_(!1)}},"SIgn Up"))))),o.a.createElement(y.a,{open:C,onClose:function(){return U(!1)}},o.a.createElement("div",{style:se,className:e.paper},o.a.createElement("div",{id:"simple-modal-description"},o.a.createElement("center",null,o.a.createElement("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"logo"})),o.a.createElement("form",{className:"app_signUp"},o.a.createElement(u.a,{type:"email",placeholder:"email",value:V,onChange:function(e){return G(e.target.value)}}),o.a.createElement(u.a,{type:"password",placeholder:"password",value:z,onChange:function(e){return H(e.target.value)}}),o.a.createElement(p.a,{type:"submit",onClick:function(e){e.preventDefault(),f.signInWithEmailAndPassword(V,z).then((function(e){te(e),ce(e.user.photoURL),console.log(e)})).catch((function(e){return alert(e.message)})),U(!1)}},"SIgn In"))))),o.a.createElement(y.a,{open:P,onClose:function(){return B(!1)}},o.a.createElement("div",{style:se,className:e.paper},o.a.createElement(E,null))),o.a.createElement("div",{className:"app__header"},o.a.createElement("div",{className:"app__headerImage"},"Socialer"),o.a.createElement("div",{className:"app__headerLogin"},ae?o.a.createElement("div",{className:"app__headerRight"},o.a.createElement(s.a,{src:re,alt:F,onClick:function(){return B(!0)}}),o.a.createElement(p.a,{onClick:function(){return f.signOut()},id:"signup-btn"},"Log Out")):o.a.createElement("div",null,o.a.createElement(p.a,{onClick:function(){return U(!0)}},"Sign In"),o.a.createElement(p.a,{onClick:function(){return _(!0)}},"SignUp")))),r.map((function(e){var a=e.id,t=e.post;return o.a.createElement(h,{key:a,postId:a,crntuser:ae,username:t.username,userAvatar:t.userAvatar,caption:t.caption,imageURL:t.imageURL,comments:t.comments})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.76c5b037.chunk.js.map