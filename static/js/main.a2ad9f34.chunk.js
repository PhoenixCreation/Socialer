(this.webpackJsonpsocialer=this.webpackJsonpsocialer||[]).push([[0],{48:function(e,a,t){e.exports=t(72)},53:function(e,a,t){},54:function(e,a,t){},55:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(13),c=t.n(r),l=(t(53),t(10)),s=(t(54),t(97));t(55);var i=function(e){var a=e.username,t=e.userAvatar,n=e.caption,r=e.imageURL,c=e.comments;return o.a.createElement("div",{className:"post"},o.a.createElement("div",{className:"post__header"},o.a.createElement(s.a,{src:t,alt:a,className:"post__headerAvatar"}),o.a.createElement("h3",null,a)),o.a.createElement("img",{className:"post__image",src:r,alt:"Image not found"}),o.a.createElement("div",{className:"post__footer"},o.a.createElement("strong",null,a,":"),n),o.a.createElement("div",{className:"post__commentbox"},c.map((function(e){return o.a.createElement("div",{className:"post__comment"},o.a.createElement("strong",null,e.username)," : ",e.commenttext)}))))},m=t(22),u=t.n(m),p=t(96),d=t(95),g=u.a.initializeApp({apiKey:"AIzaSyA79AKi494FNiNFUNjCBqqOneDthQMhpUE",authDomain:"socialer-ab176.firebaseapp.com",databaseURL:"https://socialer-ab176.firebaseio.com",projectId:"socialer-ab176",storageBucket:"socialer-ab176.appspot.com",messagingSenderId:"62578825669",appId:"1:62578825669:web:e65a6d0979b8c3f07093ac",measurementId:"G-R00TB46SH7"}).firestore(),f=u.a.auth(),h=u.a.storage();var v=function(e){var a=e.username,t=e.userAvatar,r=Object(n.useState)(""),c=Object(l.a)(r,2),s=c[0],i=c[1],m=Object(n.useState)(null),f=Object(l.a)(m,2),v=f[0],E=f[1],b=Object(n.useState)(0),y=Object(l.a)(b,2),_=y[0],O=y[1];return o.a.createElement("div",{className:"ImageUpload"},o.a.createElement(p.a,{type:"text",name:"caption",onChange:function(e){return i(e.target.value)},value:s,placeholder:"Enter your caption"}),o.a.createElement("progress",{value:_,max:"100"}),o.a.createElement(p.a,{type:"file",name:"image",onChange:function(e){e.target.files[0]&&E(e.target.files[0])}}),o.a.createElement(d.a,{onClick:function(){h.ref("Images/".concat(v.name)).put(v).on("state_changed",(function(e){var a=Math.round(e.bytesTransferred/e.totalBytes*100);O(a),console.log(e.bytesTransferred/e.totalBytes)}),(function(e){console.log(e)}),(function(){h.ref("Images").child(v.name).getDownloadURL().then((function(e){g.collection("posts").add({timestamp:u.a.firestore.FieldValue.serverTimestamp(),caption:s,imageURL:e,username:a,userAvatar:t,comments:[]}),alert("Posted..."),O(0),i(""),E(null)}))}))}},"Upload"))},E=t(93),b=t(94),y=t(43),_=t.n(y);function O(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var j=Object(E.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #aa4488",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var w=function(){var e=j(),a=Object(n.useState)([]),t=Object(l.a)(a,2),r=t[0],c=t[1],m=Object(n.useState)(!1),u=Object(l.a)(m,2),E=u[0],y=u[1],w=Object(n.useState)(!1),N=Object(l.a)(w,2),S=N[0],I=N[1],C=Object(n.useState)(!1),U=Object(l.a)(C,2),k=U[0],A=U[1],L=Object(n.useState)(""),R=Object(l.a)(L,2),B=R[0],x=R[1],P=Object(n.useState)(""),D=Object(l.a)(P,2),T=D[0],W=D[1],F=Object(n.useState)(""),M=Object(l.a)(F,2),q=M[0],z=M[1],H=Object(n.useState)(null),J=Object(l.a)(H,2),K=J[0],G=J[1],Q=Object(n.useState)(null),V=Object(l.a)(Q,2),Y=V[0],$=V[1],X=Object(n.useState)(null),Z=Object(l.a)(X,2),ee=Z[0],ae=Z[1],te=o.a.useState(O),ne=Object(l.a)(te,1)[0];return Object(n.useEffect)((function(){var e=f.onAuthStateChanged((function(e){if(e){if($(e),null!=e.photoURL&&ae(e.photoURL),!e.displayName)return e.updateProfile({displayName:B})}else $(null)}));return function(){e()}}),[Y,B]),Object(n.useEffect)((function(){g.collection("posts").onSnapshot((function(e){c(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),o.a.createElement("div",{className:"app"},(null===Y||void 0===Y?void 0:Y.displayName)?o.a.createElement("div",{className:"app__postButton"},o.a.createElement(d.a,{type:"button",name:"button",onClick:function(){return A(!0)},endIcon:o.a.createElement(_.a,null)},"  Add")):o.a.createElement("h3",null,"Log in or SignUp to start adding your movements too.."),o.a.createElement(b.a,{open:k,onClose:function(){return A(!1)}},o.a.createElement("div",{style:ne,className:e.paper},(null===Y||void 0===Y?void 0:Y.displayName)?o.a.createElement(v,{username:Y.displayName,userAvatar:ee}):o.a.createElement("h3",null,"You need to login... How am I supposed to allow you to post without login.."))),o.a.createElement(b.a,{open:E,onClose:function(){return y(!1)}},o.a.createElement("div",{style:ne,className:e.paper},o.a.createElement("div",{id:"simple-modal-description"},o.a.createElement("center",null,o.a.createElement("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"logo"})),o.a.createElement("form",{className:"app_signUp"},o.a.createElement(p.a,{type:"text",placeholder:"username",value:B,onChange:function(e){return x(e.target.value)}}),o.a.createElement(p.a,{type:"email",placeholder:"email",value:q,onChange:function(e){return z(e.target.value)}}),o.a.createElement(p.a,{type:"password",placeholder:"password",value:T,onChange:function(e){return W(e.target.value)}}),o.a.createElement(p.a,{type:"file",name:"image",onChange:function(e){e.target.files[0]&&G(e.target.files[0])}}),o.a.createElement(d.a,{type:"submit",onClick:function(e){e.preventDefault(),f.createUserWithEmailAndPassword(q,T).then((function(e){e.user.updateProfile({displayName:B}),h.ref("ProfileImages/".concat(B)).put(K).on("state_changed",(function(e){console.log(e.bytesTransferred/e.totalBytes)}),(function(e){alert(e.message)}),(function(){h.ref("ProfileImages").child(B).getDownloadURL().then((function(a){ae(a),e.user.updateProfile({photoURL:a}),alert("user created successfully")}))}))})).catch((function(e){return alert(e.message)})),y(!1)}},"SIgn Up"))))),o.a.createElement(b.a,{open:S,onClose:function(){return I(!1)}},o.a.createElement("div",{style:ne,className:e.paper},o.a.createElement("div",{id:"simple-modal-description"},o.a.createElement("center",null,o.a.createElement("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"logo"})),o.a.createElement("form",{className:"app_signUp"},o.a.createElement(p.a,{type:"email",placeholder:"email",value:q,onChange:function(e){return z(e.target.value)}}),o.a.createElement(p.a,{type:"password",placeholder:"password",value:T,onChange:function(e){return W(e.target.value)}}),o.a.createElement(d.a,{type:"submit",onClick:function(e){e.preventDefault(),f.signInWithEmailAndPassword(q,T).then((function(e){$(e),ae(e.user.photoURL),console.log(e)})).catch((function(e){return alert(e.message)})),I(!1)}},"SIgn In"))))),o.a.createElement("div",{className:"app__header"},o.a.createElement("div",{className:"app__headerImage"},"Socialer"),o.a.createElement("div",{className:"app__headerLogin"},Y?o.a.createElement("div",{className:"app__headerRight"},o.a.createElement(s.a,{src:ee,alt:B}),o.a.createElement(d.a,{onClick:function(){return f.signOut()},id:"signup-btn"},"Log Out")):o.a.createElement("div",null,o.a.createElement(d.a,{onClick:function(){return I(!0)}},"Sign In"),o.a.createElement(d.a,{onClick:function(){return y(!0)}},"SignUp")))),r.map((function(e){var a=e.id,t=e.post;return o.a.createElement(i,{key:a,username:t.username,userAvatar:t.userAvatar,caption:t.caption,imageURL:t.imageURL,comments:t.comments})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.a2ad9f34.chunk.js.map